<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns#">

<head>
    <meta name="robots" content="noindex">
    <meta name="googlebot" content="noindex">
    <title>Student List</title>
    <link rel="shortcut icon" href="../../img/columbia.ico">

    <!-- Bootstrap Core CSS -->
    <link href="../../css/bootstrap.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="../../css/style.css?v=1.1" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="../../font/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,600,700" rel="stylesheet">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">

    <style>
        #wordbox {
            margin: 30px;
            height: 150px;
            font-size: 450%;
            text-align: center;
            background: white;
            border-color: #0081CC;
            border-width: thin;
            color: #323232;
        }

        #button {
            margin-top: 100px;
            font-size: large;
        }

        .navbar-brand span {
            color: white;
        }
    </style>
</head>

<body id="page-top" data-spy="scroll" data-target=".navbar-fixed-top">

    <!-- Navigation -->
    <nav class="navbar navbar-custom navbar-fixed-top" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-main-collapse">
                    <i class="fa fa-bars" style="color:white"></i>
                </button>
                <a class="navbar-brand page-scroll" href="https://www.jperego.com">
                    <span class="light"><i class="fa fa-home color" aria-hidden="true"></i> home</span>
                </a>
            </div>
            <div class="collapse navbar-collapse navbar-right navbar-main-collapse">
                <ul class="nav navbar-nav"></ul>
            </div>
        </div>
    </nav>

    <!-- Intro Header -->
    <header class="intro">
        <div class="intro-body">
            <div class="container">
                <div class="row">
                    <img style="width: 10%; height: auto; margin-bottom: 75pt" src="cold.png">

                    <form name="WordForm">
                        <input class="w3-input" type="text" name="WordBox" id="wordbox" readonly>
                        <br>
                        <input class="btn btn-primary btn-lg" value="Next Name" onClick="PickNextWord(document.WordForm);" id="button">
                        <input class="btn btn-primary btn-lg" value="Restart" onClick="Restart();" id="restartButton" style="display:none;">
                    </form>
                </div>
            </div>
        </div>
    </header>

    <!-- Footer -->
    <footer style="margin-top:100px">
        <div class="container text-center">
            <p style="font-size:80%;">
                <!-- Footer content if needed -->
            </p>
        </div>
    </footer>

    <script>
        // List of real student names
        const students = [
          "Abernathy, Jessica", "Alejandrino, Raphael", "Arze, Barbara", "Baek, Hong Gi", "Banbouk, Moustafa",
            "Bhatt, Mahek", "Bonardi Oliveira, Gabriela", "Bustamante, Felipe", "Cai, Hongyu", "Coan Ribeiro, Raissa",
            "Cui, Haowei", "Dornadula, Srilekha", "Eblen Zalaquett, Jorge", "Edgarov, Farrukh", "Gadaleta, Stephen",
            "Gandhi, Justin", "Garg, Madhur", "Gaykar, Sanika", "Gonzalez Adiego, Paula", "Gorven, Ruth", "Guan, Chenghan",
            "Gupta, Divij", "Guttes, William", "Hong, Jingtao", "Iorio, Jenna", "Jethani, Akanksha", "Ji, Lawrence",
            "Ju, Lin", "Kabaya, Lilian", "Kadri-Hassani, Idriss", "Kao, Grace", "Khurana, Shubham", "Kohli, Manasi",
            "Kong, Yuqing", "Kouame, Lei", "Labidi, Mayssen", "Li, Katherine", "Li, Yiran", "Liu, Xichen", "Liu, Xutong",
            "Luo, Zhijian", "Maeng, Jin", "Mahdavi, Cameron", "Maniar, Ankur", "Mansueti, Anna", "Marathe, Manasi",
            "Masood, Mansoor", "McCaffrey, Sarah", "Mukherjee, Pronay", "Papadimitriou, Aris", "Peerbhai, Azmeen",
            "Penaranda, Lena", "Peng, Clair", "Peng, Meixi", "Pereira, Lenny", "Qi, Conrad", "Qiao, Lu",
            "Ratanachai, Krittanat", "Riva, Federica", "Robiglio, Vittorio", "Sempere Cano, Xavier", "Seyhan, Arda",
            "Shao, Scarlett", "Sirithong, Phichayanin", "Song, Yuxuan", "Swisa, Roy", "Tan, Leslie", "Tao, Minyi",
            "Tapanakornwut, Wannakorn", "Velie, Charles", "Yang, Raymond", "Yu, Qingchen", "Zhan, Shelly", "Zhang, Yi"
        ];

        // Shuffle the students list once
        let shuffledStudents = localStorage.getItem('shuffledList');
        if (!shuffledStudents) {
            shuffledStudents = students
                .map(name => ({ name, sort: Math.random() }))  // Randomize
                .sort((a, b) => a.sort - b.sort)               // Sort by randomized value
                .map(({ name }) => name);                      // Extract name
            localStorage.setItem('shuffledList', JSON.stringify(shuffledStudents));
        } else {
            shuffledStudents = JSON.parse(shuffledStudents);
        }

        // Get the last shown index, default to -1 (meaning no name shown yet)
        let currentIndex = localStorage.getItem('currentIndex');
        if (currentIndex === null) {
            currentIndex = -1;
        } else {
            currentIndex = parseInt(currentIndex, 10);
        }

        // Show the current student's name (if any have been shown)
        function showStudent() {
            if (currentIndex >= 0 && currentIndex < shuffledStudents.length) {
                document.getElementById('wordbox').value = shuffledStudents[currentIndex];
                document.getElementById('button').style.display = "inline-block";
                document.getElementById('restartButton').style.display = "none";
            } else if (currentIndex >= shuffledStudents.length) {
                document.getElementById('wordbox').value = "No more names!";
                document.getElementById('button').style.display = "none";
                document.getElementById('restartButton').style.display = "inline-block";
            }
        }

        // Move to the next student and show their name
        function PickNextWord() {
            currentIndex++;
            if (currentIndex < shuffledStudents.length) {
                localStorage.setItem('currentIndex', currentIndex);
                showStudent();
            } else {
                localStorage.setItem('currentIndex', currentIndex);
                showStudent();
            }
        }

        // Restart the process
        function Restart() {
            localStorage.removeItem('shuffledList');  // Clear the shuffled list
            localStorage.removeItem('currentIndex');  // Clear the index
            location.reload();  // Reload the page to start over
        }

        // Display the last name shown (if applicable) on page load
        showStudent();
    </script>

</body>
</html>
